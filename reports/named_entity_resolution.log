Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/jupyter_cache/executors/utils.py", line 51, in single_nb_execution
    executenb(
  File "/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/nbclient/client.py", line 1204, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/asyncio/base_events.py", line 616, in run_until_complete
    return future.result()
  File "/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/nbclient/client.py", line 663, in async_execute
    await self.async_execute_cell(
  File "/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/nbclient/client.py", line 965, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/nbclient/client.py", line 862, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
import spacy
from pywikibot.data.sparql import SparqlQuery

# Add Spacy OpenTapioca Pipeline to identify the entities
nlp = spacy.blank("en")
nlp.add_pipe("opentapioca")

# Wikidata Sparql to query properties of the entity
query = SparqlQuery()

property_to_query = "P749"  # https://www.wikidata.org/wiki/Wikidata:List_of_properties

sparql_query = """
SELECT ?name ?nameLabel 
WHERE {{
  wd:{wikidata_id} wdt:{property_to_query} ?name.
  SERVICE wikibase:label {{ bd:serviceParam wikibase:language "en". }}
}}
"""
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mImportError[0m                               Traceback (most recent call last)
Cell [0;32mIn [1], line 2[0m
[1;32m      1[0m [38;5;28;01mimport[39;00m [38;5;21;01mspacy[39;00m
[0;32m----> 2[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mdata[39;00m[38;5;21;01m.[39;00m[38;5;21;01msparql[39;00m [38;5;28;01mimport[39;00m SparqlQuery
[1;32m      4[0m [38;5;66;03m# Add Spacy OpenTapioca Pipeline to identify the entities[39;00m
[1;32m      5[0m nlp [38;5;241m=[39m spacy[38;5;241m.[39mblank([38;5;124m"[39m[38;5;124men[39m[38;5;124m"[39m)

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/pywikibot/__init__.py:69[0m
[1;32m     57[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mi18n[39;00m [38;5;28;01mimport[39;00m translate
[1;32m     58[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mlogging[39;00m [38;5;28;01mimport[39;00m (
[1;32m     59[0m     critical,
[1;32m     60[0m     debug,
[0;32m   (...)[0m
[1;32m     67[0m     warning,
[1;32m     68[0m )
[0;32m---> 69[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01msite[39;00m [38;5;28;01mimport[39;00m APISite, BaseSite, DataSite
[1;32m     70[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mtime[39;00m [38;5;28;01mimport[39;00m Timestamp
[1;32m     71[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mtools[39;00m [38;5;28;01mimport[39;00m normalize_username, PYTHON_VERSION

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/pywikibot/site/__init__.py:7[0m
[1;32m      1[0m [38;5;124;03m"""Library module representing MediaWiki sites (wikis)."""[39;00m
[1;32m      2[0m [38;5;66;03m#[39;00m
[1;32m      3[0m [38;5;66;03m# (C) Pywikibot team, 2021-2022[39;00m
[1;32m      4[0m [38;5;66;03m#[39;00m
[1;32m      5[0m [38;5;66;03m# Distributed under the terms of the MIT license.[39;00m
[1;32m      6[0m [38;5;66;03m#[39;00m
[0;32m----> 7[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01msite[39;00m[38;5;21;01m.[39;00m[38;5;21;01m_apisite[39;00m [38;5;28;01mimport[39;00m APISite
[1;32m      8[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01msite[39;00m[38;5;21;01m.[39;00m[38;5;21;01m_basesite[39;00m [38;5;28;01mimport[39;00m BaseSite
[1;32m      9[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01msite[39;00m[38;5;21;01m.[39;00m[38;5;21;01m_datasite[39;00m [38;5;28;01mimport[39;00m DataSite

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/pywikibot/site/_apisite.py:21[0m
[1;32m     19[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mbackports[39;00m [38;5;28;01mimport[39;00m Pattern, Set, Tuple
[1;32m     20[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mcomms[39;00m[38;5;21;01m.[39;00m[38;5;21;01mhttp[39;00m [38;5;28;01mimport[39;00m get_authentication
[0;32m---> 21[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mdata[39;00m [38;5;28;01mimport[39;00m api
[1;32m     22[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mexceptions[39;00m [38;5;28;01mimport[39;00m (
[1;32m     23[0m     AbuseFilterDisallowedError,
[1;32m     24[0m     APIError,
[0;32m   (...)[0m
[1;32m     46[0m     UnknownExtensionError,
[1;32m     47[0m )
[1;32m     48[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mlogin[39;00m [38;5;28;01mimport[39;00m LoginStatus [38;5;28;01mas[39;00m _LoginStatus

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/pywikibot/data/api/__init__.py:25[0m
[1;32m     23[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mdata[39;00m[38;5;21;01m.[39;00m[38;5;21;01mapi[39;00m[38;5;21;01m.[39;00m[38;5;21;01m_paraminfo[39;00m [38;5;28;01mimport[39;00m ParamInfo
[1;32m     24[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mdata[39;00m[38;5;21;01m.[39;00m[38;5;21;01mapi[39;00m[38;5;21;01m.[39;00m[38;5;21;01m_optionset[39;00m [38;5;28;01mimport[39;00m OptionSet
[0;32m---> 25[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mdata[39;00m[38;5;21;01m.[39;00m[38;5;21;01mapi[39;00m[38;5;21;01m.[39;00m[38;5;21;01m_requests[39;00m [38;5;28;01mimport[39;00m CachedRequest, Request, encode_url
[1;32m     26[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mfamily[39;00m [38;5;28;01mimport[39;00m SubdomainFamily
[1;32m     28[0m __all__ [38;5;241m=[39m (
[1;32m     29[0m     [38;5;124m'[39m[38;5;124mAPIGeneratorBase[39m[38;5;124m'[39m,
[1;32m     30[0m     [38;5;124m'[39m[38;5;124mAPIGenerator[39m[38;5;124m'[39m,
[0;32m   (...)[0m
[1;32m     42[0m     [38;5;124m'[39m[38;5;124mupdate_page[39m[38;5;124m'[39m,
[1;32m     43[0m )

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/pywikibot/data/api/_requests.py:36[0m
[1;32m     25[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mexceptions[39;00m [38;5;28;01mimport[39;00m (
[1;32m     26[0m     Error,
[1;32m     27[0m     FatalServerError,
[0;32m   (...)[0m
[1;32m     33[0m     [38;5;167;01mTimeoutError[39;00m,
[1;32m     34[0m )
[1;32m     35[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mlogin[39;00m [38;5;28;01mimport[39;00m LoginStatus
[0;32m---> 36[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mtextlib[39;00m [38;5;28;01mimport[39;00m removeHTMLParts
[1;32m     37[0m [38;5;28;01mfrom[39;00m [38;5;21;01mpywikibot[39;00m[38;5;21;01m.[39;00m[38;5;21;01mtools[39;00m [38;5;28;01mimport[39;00m PYTHON_VERSION
[1;32m     39[0m __all__ [38;5;241m=[39m ([38;5;124m'[39m[38;5;124mCachedRequest[39m[38;5;124m'[39m, [38;5;124m'[39m[38;5;124mRequest[39m[38;5;124m'[39m, [38;5;124m'[39m[38;5;124mencode_url[39m[38;5;124m'[39m)

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/pywikibot/textlib.py:39[0m
[1;32m     36[0m         [38;5;28;01mimport[39;00m [38;5;21;01mmwparserfromhell[39;00m [38;5;28;01mas[39;00m [38;5;21;01mwikitextparser[39;00m
[1;32m     37[0m     [38;5;28;01mexcept[39;00m [38;5;167;01mImportError[39;00m:
[1;32m     38[0m         [38;5;66;03m# print required because pywikibot is not imported completely[39;00m
[0;32m---> 39[0m         [38;5;28;01mraise[39;00m [38;5;167;01mImportError[39;00m([38;5;124m"""[39m
[1;32m     40[0m [38;5;124mPywikibot is missing a MediaWiki markup parser which is necessary.[39m
[1;32m     41[0m [38;5;124mPlease update the required module with either[39m
[1;32m     42[0m 
[1;32m     43[0m [38;5;124m    pip install [39m[38;5;124m"[39m[38;5;124mmwparserfromhell>=0.5.0[39m[38;5;124m"[39m
[1;32m     44[0m 
[1;32m     45[0m [38;5;124mor[39m
[1;32m     46[0m 
[1;32m     47[0m [38;5;124m    pip install [39m[38;5;124m"[39m[38;5;124mwikitextparser>=0.47.5[39m[38;5;124m"[39m
[1;32m     48[0m [38;5;124m"""[39m) [38;5;28;01mfrom[39;00m [38;5;28mNone[39m
[1;32m     50[0m ETPType [38;5;241m=[39m List[Tuple[[38;5;28mstr[39m, OrderedDictType[[38;5;28mstr[39m, [38;5;28mstr[39m]]]
[1;32m     52[0m [38;5;66;03m# cache for replaceExcept to avoid recompile or regexes each call[39;00m

[0;31mImportError[0m: 
Pywikibot is missing a MediaWiki markup parser which is necessary.
Please update the required module with either

    pip install "mwparserfromhell>=0.5.0"

or

    pip install "wikitextparser>=0.47.5"

ImportError: 
Pywikibot is missing a MediaWiki markup parser which is necessary.
Please update the required module with either

    pip install "mwparserfromhell>=0.5.0"

or

    pip install "wikitextparser>=0.47.5"


