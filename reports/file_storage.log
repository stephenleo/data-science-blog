Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/jupyter_cache/executors/utils.py", line 51, in single_nb_execution
    executenb(
  File "/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/nbclient/client.py", line 1204, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/asyncio/base_events.py", line 616, in run_until_complete
    return future.result()
  File "/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/nbclient/client.py", line 663, in async_execute
    await self.async_execute_cell(
  File "/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/nbclient/client.py", line 965, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/nbclient/client.py", line 862, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
# Imports
import boto3
from smart_open import open

file_to_read = "s3://commoncrawl/robots.txt"

# With Boto3 - ðŸ¥´
print("-----Reading with Boto3-----")
s3 = boto3.resource("s3")
split_filename = file_to_read.split("/")
obj = s3.Object(split_filename[2], "/".join(split_filename[3:]))
body = obj.get()["Body"].read()
print(body.decode())

# With Smart Open! - ðŸ˜Ž
print("\n-----Reading with Smart Open-----")
with open(file_to_read) as f:
    print(f.read())
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mNoCredentialsError[0m                        Traceback (most recent call last)
Input [0;32mIn [1][0m, in [0;36m<cell line: 12>[0;34m()[0m
[1;32m     10[0m split_filename [38;5;241m=[39m file_to_read[38;5;241m.[39msplit([38;5;124m"[39m[38;5;124m/[39m[38;5;124m"[39m)
[1;32m     11[0m obj [38;5;241m=[39m s3[38;5;241m.[39mObject(split_filename[[38;5;241m2[39m], [38;5;124m"[39m[38;5;124m/[39m[38;5;124m"[39m[38;5;241m.[39mjoin(split_filename[[38;5;241m3[39m:]))
[0;32m---> 12[0m body [38;5;241m=[39m [43mobj[49m[38;5;241;43m.[39;49m[43mget[49m[43m([49m[43m)[49m[[38;5;124m"[39m[38;5;124mBody[39m[38;5;124m"[39m][38;5;241m.[39mread()
[1;32m     13[0m [38;5;28mprint[39m(body[38;5;241m.[39mdecode())
[1;32m     15[0m [38;5;66;03m# With Smart Open! - ðŸ˜Ž[39;00m

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/boto3/resources/factory.py:580[0m, in [0;36mResourceFactory._create_action.<locals>.do_action[0;34m(self, *args, **kwargs)[0m
[1;32m    579[0m [38;5;28;01mdef[39;00m [38;5;21mdo_action[39m([38;5;28mself[39m, [38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs):
[0;32m--> 580[0m     response [38;5;241m=[39m [43maction[49m[43m([49m[38;5;28;43mself[39;49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[43margs[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m
[1;32m    582[0m     [38;5;28;01mif[39;00m [38;5;28mhasattr[39m([38;5;28mself[39m, [38;5;124m'[39m[38;5;124mload[39m[38;5;124m'[39m):
[1;32m    583[0m         [38;5;66;03m# Clear cached data. It will be reloaded the next[39;00m
[1;32m    584[0m         [38;5;66;03m# time that an attribute is accessed.[39;00m
[1;32m    585[0m         [38;5;66;03m# TODO: Make this configurable in the future?[39;00m
[1;32m    586[0m         [38;5;28mself[39m[38;5;241m.[39mmeta[38;5;241m.[39mdata [38;5;241m=[39m [38;5;28;01mNone[39;00m

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/boto3/resources/action.py:88[0m, in [0;36mServiceAction.__call__[0;34m(self, parent, *args, **kwargs)[0m
[1;32m     79[0m params[38;5;241m.[39mupdate(kwargs)
[1;32m     81[0m logger[38;5;241m.[39mdebug(
[1;32m     82[0m     [38;5;124m'[39m[38;5;124mCalling [39m[38;5;132;01m%s[39;00m[38;5;124m:[39m[38;5;132;01m%s[39;00m[38;5;124m with [39m[38;5;132;01m%r[39;00m[38;5;124m'[39m,
[1;32m     83[0m     parent[38;5;241m.[39mmeta[38;5;241m.[39mservice_name,
[1;32m     84[0m     operation_name,
[1;32m     85[0m     params,
[1;32m     86[0m )
[0;32m---> 88[0m response [38;5;241m=[39m [38;5;28;43mgetattr[39;49m[43m([49m[43mparent[49m[38;5;241;43m.[39;49m[43mmeta[49m[38;5;241;43m.[39;49m[43mclient[49m[43m,[49m[43m [49m[43moperation_name[49m[43m)[49m[43m([49m[38;5;241;43m*[39;49m[43margs[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mparams[49m[43m)[49m
[1;32m     90[0m logger[38;5;241m.[39mdebug([38;5;124m'[39m[38;5;124mResponse: [39m[38;5;132;01m%r[39;00m[38;5;124m'[39m, response)
[1;32m     92[0m [38;5;28;01mreturn[39;00m [38;5;28mself[39m[38;5;241m.[39m_response_handler(parent, params, response)

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/botocore/client.py:508[0m, in [0;36mClientCreator._create_api_method.<locals>._api_call[0;34m(self, *args, **kwargs)[0m
[1;32m    504[0m     [38;5;28;01mraise[39;00m [38;5;167;01mTypeError[39;00m(
[1;32m    505[0m         [38;5;124mf[39m[38;5;124m"[39m[38;5;132;01m{[39;00mpy_operation_name[38;5;132;01m}[39;00m[38;5;124m() only accepts keyword arguments.[39m[38;5;124m"[39m
[1;32m    506[0m     )
[1;32m    507[0m [38;5;66;03m# The "self" in this scope is referring to the BaseClient.[39;00m
[0;32m--> 508[0m [38;5;28;01mreturn[39;00m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_make_api_call[49m[43m([49m[43moperation_name[49m[43m,[49m[43m [49m[43mkwargs[49m[43m)[49m

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/botocore/client.py:898[0m, in [0;36mBaseClient._make_api_call[0;34m(self, operation_name, api_params)[0m
[1;32m    896[0m [38;5;28;01melse[39;00m:
[1;32m    897[0m     apply_request_checksum(request_dict)
[0;32m--> 898[0m     http, parsed_response [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_make_request[49m[43m([49m
[1;32m    899[0m [43m        [49m[43moperation_model[49m[43m,[49m[43m [49m[43mrequest_dict[49m[43m,[49m[43m [49m[43mrequest_context[49m
[1;32m    900[0m [43m    [49m[43m)[49m
[1;32m    902[0m [38;5;28mself[39m[38;5;241m.[39mmeta[38;5;241m.[39mevents[38;5;241m.[39memit(
[1;32m    903[0m     [38;5;124m'[39m[38;5;124mafter-call.[39m[38;5;132;01m{service_id}[39;00m[38;5;124m.[39m[38;5;132;01m{operation_name}[39;00m[38;5;124m'[39m[38;5;241m.[39mformat(
[1;32m    904[0m         service_id[38;5;241m=[39mservice_id, operation_name[38;5;241m=[39moperation_name
[0;32m   (...)[0m
[1;32m    909[0m     context[38;5;241m=[39mrequest_context,
[1;32m    910[0m )
[1;32m    912[0m [38;5;28;01mif[39;00m http[38;5;241m.[39mstatus_code [38;5;241m>[39m[38;5;241m=[39m [38;5;241m300[39m:

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/botocore/client.py:921[0m, in [0;36mBaseClient._make_request[0;34m(self, operation_model, request_dict, request_context)[0m
[1;32m    919[0m [38;5;28;01mdef[39;00m [38;5;21m_make_request[39m([38;5;28mself[39m, operation_model, request_dict, request_context):
[1;32m    920[0m     [38;5;28;01mtry[39;00m:
[0;32m--> 921[0m         [38;5;28;01mreturn[39;00m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_endpoint[49m[38;5;241;43m.[39;49m[43mmake_request[49m[43m([49m[43moperation_model[49m[43m,[49m[43m [49m[43mrequest_dict[49m[43m)[49m
[1;32m    922[0m     [38;5;28;01mexcept[39;00m [38;5;167;01mException[39;00m [38;5;28;01mas[39;00m e:
[1;32m    923[0m         [38;5;28mself[39m[38;5;241m.[39mmeta[38;5;241m.[39mevents[38;5;241m.[39memit(
[1;32m    924[0m             [38;5;124m'[39m[38;5;124mafter-call-error.[39m[38;5;132;01m{service_id}[39;00m[38;5;124m.[39m[38;5;132;01m{operation_name}[39;00m[38;5;124m'[39m[38;5;241m.[39mformat(
[1;32m    925[0m                 service_id[38;5;241m=[39m[38;5;28mself[39m[38;5;241m.[39m_service_model[38;5;241m.[39mservice_id[38;5;241m.[39mhyphenize(),
[0;32m   (...)[0m
[1;32m    929[0m             context[38;5;241m=[39mrequest_context,
[1;32m    930[0m         )

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/botocore/endpoint.py:119[0m, in [0;36mEndpoint.make_request[0;34m(self, operation_model, request_dict)[0m
[1;32m    113[0m [38;5;28;01mdef[39;00m [38;5;21mmake_request[39m([38;5;28mself[39m, operation_model, request_dict):
[1;32m    114[0m     logger[38;5;241m.[39mdebug(
[1;32m    115[0m         [38;5;124m"[39m[38;5;124mMaking request for [39m[38;5;132;01m%s[39;00m[38;5;124m with params: [39m[38;5;132;01m%s[39;00m[38;5;124m"[39m,
[1;32m    116[0m         operation_model,
[1;32m    117[0m         request_dict,
[1;32m    118[0m     )
[0;32m--> 119[0m     [38;5;28;01mreturn[39;00m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_send_request[49m[43m([49m[43mrequest_dict[49m[43m,[49m[43m [49m[43moperation_model[49m[43m)[49m

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/botocore/endpoint.py:198[0m, in [0;36mEndpoint._send_request[0;34m(self, request_dict, operation_model)[0m
[1;32m    196[0m context [38;5;241m=[39m request_dict[[38;5;124m'[39m[38;5;124mcontext[39m[38;5;124m'[39m]
[1;32m    197[0m [38;5;28mself[39m[38;5;241m.[39m_update_retries_context(context, attempts)
[0;32m--> 198[0m request [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mcreate_request[49m[43m([49m[43mrequest_dict[49m[43m,[49m[43m [49m[43moperation_model[49m[43m)[49m
[1;32m    199[0m success_response, exception [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39m_get_response(
[1;32m    200[0m     request, operation_model, context
[1;32m    201[0m )
[1;32m    202[0m [38;5;28;01mwhile[39;00m [38;5;28mself[39m[38;5;241m.[39m_needs_retry(
[1;32m    203[0m     attempts,
[1;32m    204[0m     operation_model,
[0;32m   (...)[0m
[1;32m    207[0m     exception,
[1;32m    208[0m ):

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/botocore/endpoint.py:134[0m, in [0;36mEndpoint.create_request[0;34m(self, params, operation_model)[0m
[1;32m    130[0m     service_id [38;5;241m=[39m operation_model[38;5;241m.[39mservice_model[38;5;241m.[39mservice_id[38;5;241m.[39mhyphenize()
[1;32m    131[0m     event_name [38;5;241m=[39m [38;5;124m'[39m[38;5;124mrequest-created.[39m[38;5;132;01m{service_id}[39;00m[38;5;124m.[39m[38;5;132;01m{op_name}[39;00m[38;5;124m'[39m[38;5;241m.[39mformat(
[1;32m    132[0m         service_id[38;5;241m=[39mservice_id, op_name[38;5;241m=[39moperation_model[38;5;241m.[39mname
[1;32m    133[0m     )
[0;32m--> 134[0m     [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_event_emitter[49m[38;5;241;43m.[39;49m[43memit[49m[43m([49m
[1;32m    135[0m [43m        [49m[43mevent_name[49m[43m,[49m
[1;32m    136[0m [43m        [49m[43mrequest[49m[38;5;241;43m=[39;49m[43mrequest[49m[43m,[49m
[1;32m    137[0m [43m        [49m[43moperation_name[49m[38;5;241;43m=[39;49m[43moperation_model[49m[38;5;241;43m.[39;49m[43mname[49m[43m,[49m
[1;32m    138[0m [43m    [49m[43m)[49m
[1;32m    139[0m prepared_request [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39mprepare_request(request)
[1;32m    140[0m [38;5;28;01mreturn[39;00m prepared_request

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/botocore/hooks.py:412[0m, in [0;36mEventAliaser.emit[0;34m(self, event_name, **kwargs)[0m
[1;32m    410[0m [38;5;28;01mdef[39;00m [38;5;21memit[39m([38;5;28mself[39m, event_name, [38;5;241m*[39m[38;5;241m*[39mkwargs):
[1;32m    411[0m     aliased_event_name [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39m_alias_event_name(event_name)
[0;32m--> 412[0m     [38;5;28;01mreturn[39;00m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_emitter[49m[38;5;241;43m.[39;49m[43memit[49m[43m([49m[43maliased_event_name[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/botocore/hooks.py:256[0m, in [0;36mHierarchicalEmitter.emit[0;34m(self, event_name, **kwargs)[0m
[1;32m    245[0m [38;5;28;01mdef[39;00m [38;5;21memit[39m([38;5;28mself[39m, event_name, [38;5;241m*[39m[38;5;241m*[39mkwargs):
[1;32m    246[0m     [38;5;124;03m"""[39;00m
[1;32m    247[0m [38;5;124;03m    Emit an event by name with arguments passed as keyword args.[39;00m
[1;32m    248[0m 
[0;32m   (...)[0m
[1;32m    254[0m [38;5;124;03m             handlers.[39;00m
[1;32m    255[0m [38;5;124;03m    """[39;00m
[0;32m--> 256[0m     [38;5;28;01mreturn[39;00m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_emit[49m[43m([49m[43mevent_name[49m[43m,[49m[43m [49m[43mkwargs[49m[43m)[49m

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/botocore/hooks.py:239[0m, in [0;36mHierarchicalEmitter._emit[0;34m(self, event_name, kwargs, stop_on_response)[0m
[1;32m    237[0m [38;5;28;01mfor[39;00m handler [38;5;129;01min[39;00m handlers_to_call:
[1;32m    238[0m     logger[38;5;241m.[39mdebug([38;5;124m'[39m[38;5;124mEvent [39m[38;5;132;01m%s[39;00m[38;5;124m: calling handler [39m[38;5;132;01m%s[39;00m[38;5;124m'[39m, event_name, handler)
[0;32m--> 239[0m     response [38;5;241m=[39m [43mhandler[49m[43m([49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m
[1;32m    240[0m     responses[38;5;241m.[39mappend((handler, response))
[1;32m    241[0m     [38;5;28;01mif[39;00m stop_on_response [38;5;129;01mand[39;00m response [38;5;129;01mis[39;00m [38;5;129;01mnot[39;00m [38;5;28;01mNone[39;00m:

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/botocore/signers.py:103[0m, in [0;36mRequestSigner.handler[0;34m(self, operation_name, request, **kwargs)[0m
[1;32m     98[0m [38;5;28;01mdef[39;00m [38;5;21mhandler[39m([38;5;28mself[39m, operation_name[38;5;241m=[39m[38;5;28;01mNone[39;00m, request[38;5;241m=[39m[38;5;28;01mNone[39;00m, [38;5;241m*[39m[38;5;241m*[39mkwargs):
[1;32m     99[0m     [38;5;66;03m# This is typically hooked up to the "request-created" event[39;00m
[1;32m    100[0m     [38;5;66;03m# from a client's event emitter.  When a new request is created[39;00m
[1;32m    101[0m     [38;5;66;03m# this method is invoked to sign the request.[39;00m
[1;32m    102[0m     [38;5;66;03m# Don't call this method directly.[39;00m
[0;32m--> 103[0m     [38;5;28;01mreturn[39;00m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43msign[49m[43m([49m[43moperation_name[49m[43m,[49m[43m [49m[43mrequest[49m[43m)[49m

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/botocore/signers.py:187[0m, in [0;36mRequestSigner.sign[0;34m(self, operation_name, request, region_name, signing_type, expires_in, signing_name)[0m
[1;32m    184[0m     [38;5;28;01melse[39;00m:
[1;32m    185[0m         [38;5;28;01mraise[39;00m e
[0;32m--> 187[0m [43mauth[49m[38;5;241;43m.[39;49m[43madd_auth[49m[43m([49m[43mrequest[49m[43m)[49m

File [0;32m/opt/hostedtoolcache/Python/3.8.13/x64/lib/python3.8/site-packages/botocore/auth.py:407[0m, in [0;36mSigV4Auth.add_auth[0;34m(self, request)[0m
[1;32m    405[0m [38;5;28;01mdef[39;00m [38;5;21madd_auth[39m([38;5;28mself[39m, request):
[1;32m    406[0m     [38;5;28;01mif[39;00m [38;5;28mself[39m[38;5;241m.[39mcredentials [38;5;129;01mis[39;00m [38;5;28;01mNone[39;00m:
[0;32m--> 407[0m         [38;5;28;01mraise[39;00m NoCredentialsError()
[1;32m    408[0m     datetime_now [38;5;241m=[39m datetime[38;5;241m.[39mdatetime[38;5;241m.[39mutcnow()
[1;32m    409[0m     request[38;5;241m.[39mcontext[[38;5;124m'[39m[38;5;124mtimestamp[39m[38;5;124m'[39m] [38;5;241m=[39m datetime_now[38;5;241m.[39mstrftime(SIGV4_TIMESTAMP)

[0;31mNoCredentialsError[0m: Unable to locate credentials
NoCredentialsError: Unable to locate credentials

